{
  "name": "vscode-gams",
  "displayName": "GAMS",
  "description": "GAMS Extension for Visual Studio Code",
  "version": "0.1.3",
  "publisher": "eunseong-park",
  "icon": "images/letter-gams.png",
  "repository": "https://github.com/eunseong-park/vscode-gams",
  "engines": {
    "vscode": "^1.87.0"
  },
  "categories": [
    "Programming Languages"
  ],
  "main": "./out/extension.js",
  "activationEvents": [
    "onStartupFinished"
  ],
  "contributes": {
    "languages": [
      {
        "id": "gams",
        "aliases": [
          "GAMS",
          "gams"
        ],
        "extensions": [
          ".gms",
          ".inc",
          ".lst",
          ".gdx"
        ],
        "icon": {
          "light": "./images/letter-g.png",
          "dark": "./images/letter-g.png"
        },
        "configuration": "./languages/language-configuration.json"
      }
    ],
    "configuration": {
      "title": "GAMS",
      "properties": {
        "GAMS.terminalLocation": {
          "type": "string",
          "default": "Panel",
          "enum": [
            "Panel",
            "Active",
            "Beside",
            "One",
            "Two",
            "Three",
            "Four",
            "Five",
            "Six",
            "Seven",
            "Eight",
            "Nine"
          ],
          "description": "Determine the location of the terminal. If empty, the terminal will be opened in the default location (Panel). Possible values are Panel, Active, Beside, One, ..., Nine."
        },
        "GAMS.terminalCwd": {
          "type": "string",
          "default": "",
          "description": "Specifies the working directory for the terminal. If empty, the terminal's working directory will be the folder containing the .gms file."
        },
        "GAMS.commandLineParameters": {
          "type": "string",
          "default": "",
          "description": "Determine the command line parameters that will be passed to the GAMS executable. Example: -keep 1 --MPSGEMT 1"
        },
        "GAMS.preserveFocus": {
          "type": "boolean",
          "default": true,
          "description": "If selected, the focus remains on the active tab while the listing file is opened. Otherwise, the focus changes to the newly opened listing file."
        },
        "GAMS.runProject": {
          "type": "boolean",
          "default": false,
          "description": "Determine whether to run the project run batch file instead of the active .gms file."
        },
        "GAMS.runBatchPath": {
          "type": "string",
          "default": "",
          "description": "Determine the path to the batch file that will be executed when running the project run file."
        },
        "GAMS.projectLst": {
          "type": "string",
          "default": "",
          "description": "Determine the path to the project listing file."
        },
        "GAMS.projectGDX": {
          "type": "string",
          "default": "",
          "description": "Determine the path to the project GDX file."
        },
        "GAMS.idePath": {
          "type": "string",
          "default": "gamside",
          "description": "Determine the path to the GAMS IDE/Studio. From GAMS version 51, the classic GAMS IDE is no longer included in the release. Therefore, when using GAMS version 51 or higher, you must set the path for GAMS Studio (for example, usually c:/GAMS/[gams version]/studio/studio.exe in Windows) to use the 'open with GAMS IDE/Studio' feature."
        },
        "GAMS.listingFileLocation": {
          "type": "string",
          "default": "Beside",
          "enum": [
            "Beside",
            "Active",
            "One",
            "Two",
            "Three",
            "Four",
            "Five",
            "Six",
            "Seven",
            "Eight",
            "Nine"
          ],
          "description": "Determine the location where the GAMS listing file should open. Possible values are Beside, Active, One, ..., Nine."
        }
      }
    },
    "grammars": [
      {
        "language": "gams",
        "scopeName": "source.gams",
        "path": "./syntaxes/gams_org.tmGrammar.json"
      }
    ],
    "commands": [
      {
        "command": "gams.run",
        "title": "Run GAMS",
        "icon": "$(play)",
        "category": "GAMS"
      },
      {
        "command": "gams.runWithGdxCreation",
        "title": "Run GAMS with GDX creation",
        "icon": "$(run-below)",
        "category": "GAMS"
      },
      {
        "command": "gams.showListing",
        "title": "Show the GAMS listing file",
        "icon": "$(output)",
        "category": "GAMS"
      },
      {
        "command": "gams.toggleRunProject",
        "title": "Toggle run project file",
        "category": "GAMS"
      },
      {
        "command": "gams.openCorrGDX",
        "title": "Open GDX with GAMS IDE/Studio",
        "icon": "$(file-binary)"
      },
      {
        "command": "gams.openGDX",
        "title": "Open GDX with GAMS IDE/Studio"
      },
      {
        "command": "gams.openSettings",
        "title": "Open GAMS extension Settings"
      },
      {
        "command": "gams.toggleLineComment",
        "title": "Toggle Line Comment for GAMS",
        "category": "GAMS"
      },
      {
        "command": "gams.insertNewSection",
        "title": "Insert a new section",
        "category": "GAMS"
      }
    ],
    "keybindings": [
      {
        "command": "gams.run",
        "key": "f9",
        "when": "editorLangId == gams && resourceFilename =~ /\\.gms$/i"
      },
      {
        "command": "gams.runWithGdxCreation",
        "key": "shift+f9",
        "when": "editorLangId == gams && resourceFilename =~ /\\.gms$/i && config.GAMS.runProject == false"
      },
      {
        "command": "gams.showListing",
        "key": "f10",
        "when": "editorLangId == gams && resourceFilename =~ /\\.gms$/i"
      },
      {
        "command": "gams.toggleLineComment",
        "key": "ctrl+/",
        "when": "editorLangId == gams"
      },
      {
        "command": "gams.insertNewSection",
        "key": "ctrl+shift+r",
        "when": "editorLangId == gams"
      }
    ],
    "menus": {
      "editor/title": [
        {
          "command": "gams.run",
          "group": "navigation@1",
          "when": "editorLangId == gams && resourceFilename =~ /\\.gms$/i"
        },
        {
          "command": "gams.runWithGdxCreation",
          "group": "navigation@2",
          "when": "editorLangId == gams && resourceFilename =~ /\\.gms$/i && config.GAMS.runProject == false"
        },
        {
          "command": "gams.showListing",
          "group": "navigation@3",
          "when": "editorLangId == gams && resourceFilename =~ /\\.gms$/i"
        },
        {
          "command": "gams.openCorrGDX",
          "group": "navigation@4",
          "when": "editorLangId == gams"
        }
      ],
      "explorer/context": [
        {
          "command": "gams.openGDX",
          "group": "navigation",
          "when": "resourceFilename =~ /\\.gdx$/i"
        }
      ]
    }
  },
  "scripts": {
    "vscode:prepublish": "node ./scripts/checkPrereqs.js",
    "compile": "node ./scripts/ensureDepsAndCompile.js",
    "watch": "node ./scripts/ensureDepsAndCompile.js --watch",
    "pretest": "npm run compile && npm run lint",
    "lint": "eslint src --ext ts",
    "test": "vscode-test",
    "test:unit": "echo \"No unit tests configured\" && exit 0"
  },
  "devDependencies": {
    "@types/node": "18.x",
    "@types/vscode": "^1.87.0",
    "@typescript-eslint/eslint-plugin": "^8.48.1",
    "@typescript-eslint/parser": "^8.48.1",
    "@vscode/test-cli": "^0.0.12",
    "@vscode/test-electron": "^2.3.9",
    "@vscode/vsce": "^3.1.1",
    "eslint": "^9.39.1",
    "typescript": "^5.9.3"
  }
}
